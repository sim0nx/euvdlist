{
  "id": "EUVD-2022-54850",
  "description": "In the Linux kernel, the following vulnerability has been resolved:\n\ndriver core: Fix wait_for_device_probe() & deferred_probe_timeout interaction\n\nMounting NFS rootfs was timing out when deferred_probe_timeout was\nnon-zero [1].  This was because ip_auto_config() initcall times out\nwaiting for the network interfaces to show up when\ndeferred_probe_timeout was non-zero. While ip_auto_config() calls\nwait_for_device_probe() to make sure any currently running deferred\nprobe work or asynchronous probe finishes, that wasn't sufficient to\naccount for devices being deferred until deferred_probe_timeout.\n\nCommit 35a672363ab3 (\"driver core: Ensure wait_for_device_probe() waits\nuntil the deferred_probe_timeout fires\") tried to fix that by making\nsure wait_for_device_probe() waits for deferred_probe_timeout to expire\nbefore returning.\n\nHowever, if wait_for_device_probe() is called from the kernel_init()\ncontext:\n\n- Before deferred_probe_initcall() [2], it causes the boot process to\n  hang due to a deadlock.\n\n- After deferred_probe_initcall() [3], it blocks kernel_init() from\n  continuing till deferred_probe_timeout expires and beats the point of\n  deferred_probe_timeout that's trying to wait for userspace to load\n  modules.\n\nNeither of this is good. So revert the changes to\nwait_for_device_probe().\n\n[1] - https://lore.kernel.org/lkml/TYAPR01MB45443DF63B9EF29054F7C41FD8C60@TYAPR01MB4544.jpnprd01.prod.outlook.com/\n[2] - https://lore.kernel.org/lkml/YowHNo4sBjr9ijZr@dev-arch.thelio-3990X/\n[3] - https://lore.kernel.org/lkml/Yo3WvGnNk3LvLb7R@linutronix.de/",
  "datePublished": "Feb 26, 2025, 2:11:17 AM",
  "dateUpdated": "Feb 26, 2025, 2:11:17 AM",
  "baseScore": 0.0,
  "references": [
    "https://git.kernel.org/stable/c/71cbce75031aed26c72c2dc8a83111d181685f1b",
    "https://git.kernel.org/stable/c/29357883a89193863f3cc6a2c5e0b42ceb022761",
    "https://git.kernel.org/stable/c/528229474e1cbb1b3451cb713d94aecb5f6ee264",
    "https://git.kernel.org/stable/c/4ad6af07efcca85369c21e4897b3020cff2c170b",
    "https://git.kernel.org/stable/c/5ee76c256e928455212ab759c51d198fedbe7523"
  ],
  "aliases": [
    "CVE-2022-49379"
  ],
  "assigner": "Linux",
  "epss": 0.04,
  "enisaIdProduct": [
    {
      "id": "077d734a-175b-313b-95e8-8abd27a618f0",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.15.47"
    },
    {
      "id": "1dd03f11-60a9-37e8-b423-5dc87369ed4d",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.17.15"
    },
    {
      "id": "25811a5d-20fc-3aea-bea5-c3baa1d0603f",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 0"
    },
    {
      "id": "38db8f39-41ac-3e6e-a011-58dd0c6f1a2c",
      "product": {
        "name": "Linux"
      },
      "product_version": "35a672363ab3e8dfe4ebcadb4dd0b2d06bb85ebe <4ad6af07efcca85369c21e4897b3020cff2c170b"
    },
    {
      "id": "59add2ca-a73a-35ea-9e3e-c84a8d01d9eb",
      "product": {
        "name": "Linux"
      },
      "product_version": "35a672363ab3e8dfe4ebcadb4dd0b2d06bb85ebe <29357883a89193863f3cc6a2c5e0b42ceb022761"
    },
    {
      "id": "5b6601bc-7735-31a2-9e37-b3c15add9726",
      "product": {
        "name": "Linux"
      },
      "product_version": "35a672363ab3e8dfe4ebcadb4dd0b2d06bb85ebe <71cbce75031aed26c72c2dc8a83111d181685f1b"
    },
    {
      "id": "7cf98049-b8ce-3194-9b1b-7d491a72cbba",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.19"
    },
    {
      "id": "8b3266e3-ea25-390f-be4d-091abe7d13f3",
      "product": {
        "name": "Linux"
      },
      "product_version": "5.7"
    },
    {
      "id": "b4821df8-2273-3c93-8d8d-e8a280695e22",
      "product": {
        "name": "Linux"
      },
      "product_version": "35a672363ab3e8dfe4ebcadb4dd0b2d06bb85ebe <5ee76c256e928455212ab759c51d198fedbe7523"
    },
    {
      "id": "b8eea12f-0d60-3089-af4f-dae211de77ef",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.18.4"
    },
    {
      "id": "c21a9ea8-1733-3113-8f8b-6e8b52bb6195",
      "product": {
        "name": "Linux"
      },
      "product_version": "35a672363ab3e8dfe4ebcadb4dd0b2d06bb85ebe <528229474e1cbb1b3451cb713d94aecb5f6ee264"
    },
    {
      "id": "c812003c-ddf5-3388-a3e0-93791c7c92a7",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.10.122"
    }
  ],
  "enisaIdVendor": [
    {
      "id": "b3e25e32-eb24-3d86-8527-602c14f58b8f",
      "vendor": {
        "name": "Linux"
      }
    }
  ],
  "cve": "CVE-2022-49379"
}
