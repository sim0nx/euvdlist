{
  "id": "EUVD-2022-55069",
  "description": "In the Linux kernel, the following vulnerability has been resolved:\n\nscsi: qla2xxx: Fix scheduling while atomic\n\nThe driver makes a call into midlayer (fc_remote_port_delete) which can put\nthe thread to sleep. The thread that originates the call is in interrupt\ncontext. The combination of the two trigger a crash. Schedule the call in\nnon-interrupt context where it is more safe.\n\nkernel: BUG: scheduling while atomic: swapper/7/0/0x00010000\nkernel: Call Trace:\nkernel:  <IRQ>\nkernel:  dump_stack+0x66/0x81\nkernel:  __schedule_bug.cold.90+0x5/0x1d\nkernel:  __schedule+0x7af/0x960\nkernel:  schedule+0x28/0x80\nkernel:  schedule_timeout+0x26d/0x3b0\nkernel:  wait_for_completion+0xb4/0x140\nkernel:  ? wake_up_q+0x70/0x70\nkernel:  __wait_rcu_gp+0x12c/0x160\nkernel:  ? sdev_evt_alloc+0xc0/0x180 [scsi_mod]\nkernel:  synchronize_sched+0x6c/0x80\nkernel:  ? call_rcu_bh+0x20/0x20\nkernel:  ? __bpf_trace_rcu_invoke_callback+0x10/0x10\nkernel:  sdev_evt_alloc+0xfd/0x180 [scsi_mod]\nkernel:  starget_for_each_device+0x85/0xb0 [scsi_mod]\nkernel:  ? scsi_init_io+0x360/0x3d0 [scsi_mod]\nkernel:  scsi_init_io+0x388/0x3d0 [scsi_mod]\nkernel:  device_for_each_child+0x54/0x90\nkernel:  fc_remote_port_delete+0x70/0xe0 [scsi_transport_fc]\nkernel:  qla2x00_schedule_rport_del+0x62/0xf0 [qla2xxx]\nkernel:  qla2x00_mark_device_lost+0x9c/0xd0 [qla2xxx]\nkernel:  qla24xx_handle_plogi_done_event+0x55f/0x570 [qla2xxx]\nkernel:  qla2x00_async_login_sp_done+0xd2/0x100 [qla2xxx]\nkernel:  qla24xx_logio_entry+0x13a/0x3c0 [qla2xxx]\nkernel:  qla24xx_process_response_queue+0x306/0x400 [qla2xxx]\nkernel:  qla24xx_msix_rsp_q+0x3f/0xb0 [qla2xxx]\nkernel:  __handle_irq_event_percpu+0x40/0x180\nkernel:  handle_irq_event_percpu+0x30/0x80\nkernel:  handle_irq_event+0x36/0x60",
  "datePublished": "Feb 26, 2025, 1:55:20 AM",
  "dateUpdated": "Feb 26, 2025, 1:55:20 AM",
  "baseScore": 0.0,
  "references": [
    "https://git.kernel.org/stable/c/7fef50214dd04427233a2e66cd624d468e67aecb",
    "https://git.kernel.org/stable/c/826a9d4a00d1424afa961504aec6298ee92d5053",
    "https://git.kernel.org/stable/c/78225d6a2a4ffdb2250ce2b7691a9e68a3f86912",
    "https://git.kernel.org/stable/c/78612f2fe8e26637476d756a44f0f05cca0d97de",
    "https://git.kernel.org/stable/c/afd438ff874ca40b74321b3fa19bd61adfd7ca0c"
  ],
  "aliases": [
    "CVE-2022-49156"
  ],
  "assigner": "Linux",
  "epss": 0.04,
  "enisaIdProduct": [
    {
      "id": "154d9bdd-42a5-30a4-91bc-6fd56f891a21",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.15.33"
    },
    {
      "id": "2478d3f4-0e6a-3d23-b14f-688568905b55",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.10.110"
    },
    {
      "id": "2b75ca81-7993-34fa-a1f0-48a4b996d553",
      "product": {
        "name": "Linux"
      },
      "product_version": "1da177e4c3f41524e886b7f1b8a0c1fc7321cac2 <78225d6a2a4ffdb2250ce2b7691a9e68a3f86912"
    },
    {
      "id": "5e4530dd-ca97-3be3-a501-f227311e9922",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.16.19"
    },
    {
      "id": "7f0b9d4d-83bb-38e8-b101-31221ee8ce5b",
      "product": {
        "name": "Linux"
      },
      "product_version": "1da177e4c3f41524e886b7f1b8a0c1fc7321cac2 <afd438ff874ca40b74321b3fa19bd61adfd7ca0c"
    },
    {
      "id": "c905503c-ca3c-3329-a360-e77d76e17512",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.17.2"
    },
    {
      "id": "ca61a84d-fd43-327b-bbdf-741d6b10b480",
      "product": {
        "name": "Linux"
      },
      "product_version": "1da177e4c3f41524e886b7f1b8a0c1fc7321cac2 <826a9d4a00d1424afa961504aec6298ee92d5053"
    },
    {
      "id": "ddc62389-dde9-3046-8856-abd284679085",
      "product": {
        "name": "Linux"
      },
      "product_version": "1da177e4c3f41524e886b7f1b8a0c1fc7321cac2 <78612f2fe8e26637476d756a44f0f05cca0d97de"
    },
    {
      "id": "e77fa80c-eb0f-3fdc-94c0-ff76c7800073",
      "product": {
        "name": "Linux"
      },
      "product_version": "patch: 5.18"
    },
    {
      "id": "ec12f8ce-d352-39c1-8f0b-696d6a40c263",
      "product": {
        "name": "Linux"
      },
      "product_version": "1da177e4c3f41524e886b7f1b8a0c1fc7321cac2 <7fef50214dd04427233a2e66cd624d468e67aecb"
    }
  ],
  "enisaIdVendor": [
    {
      "id": "9a95e695-893c-3190-bcc9-ad3dcd5bd773",
      "vendor": {
        "name": "Linux"
      }
    }
  ],
  "cve": "CVE-2022-49156"
}
